#https://www.elastic.co/guide/en/logstash/current/logstash-config-for-filebeat-modules.html
input {
	beats {
		port => 5000
    		type => inputType
    		codec => plain {
     			charset => "ISO-8859-1"
   	 	}
	}
}

## Add your filters / logstash plugins configuration here
filter {
	csv {
		separator => ","	
		columns =>["UserID","UserName","Organization","LHIN","Role","CurrentUserStatus","UserIPAddress","AuditEventId","PersonID","PersonName","EventType","EventMessage","EventStatus","EventDateTime"] 
	}

	date {
		match => ["EventDateTime", "MM/dd/YYYY HH:MM"]
	}

	geoip {
		source => "UserIPAddress"
	}

	mutate {
		remove_field => ["message"]
	}
}

output {
	elasticsearch {
		hosts => ["elasticsearch:9200"]
		index => "filebeats-test"
	}
}
